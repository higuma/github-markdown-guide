# ブロック引用

[コードブロック]
← [目次] →
[リスト]

------------------------------------------------------------------------

複数行に渡り連続する文章単位の引用を表現し、HTMLの[`<blockquote>`](https://developer.mozilla.org/ja/docs/Web/HTML/Element/blockquote)に変換される。

> (注意)本解説全体で文例の出力結果を示す目的でこのブロック引用を用いている。そのため以下出力部では全てブロック引用の該当部は二重以上のブロック引用として表示される(実際より左側の線が一本多い状態で出力)。

## 基本的な書き方

行頭に`> `を挿入した行の連続はひとつのブロック引用と認識され、`<blockquote>`としてHTML出力する。GitHubでは左端の縦線付きで表示される。

```markdown
> This is a block quote which
> includes a paragraph.
```

> > This is a block quote which
> > includes a paragraph.

逆に行頭が`>`で始まるテキストは[バックスラッシュエスケープ]を用いて認識させる。

```markdown
\> これはブロック引用ではない
```

> \> これはブロック引用ではない

ブロック引用の中には任意のMarkdwon構文を挿入できる。

``````markdown
> パラグラフ(**強調**、~~打ち消し線~~、`コードスパン`などを含む)
> 
> - リスト
> - リスト
> 
> | 表 | 表 |
> | - | - |
> | セル | セル |
> 
> ```javascript
> console.log("コードブロック");
> ```
``````

> > パラグラフ(**強調**、~~打ち消し線~~、`コードスパン`などを含む)
> > 
> > - リスト
> > - リスト
> > 
> > | 表 | 表 |
> > | - | - |
> > | セル | セル |
> > 
> > ```javascript
> > console.log("コードブロック");
> > ```

前後の[ブロック]と分離するための区切りには[空行]を用いる。

```markdown
パラグラフ

> ブロック引用1

- リスト

> ブロック引用2

> ブロック引用3
```

> パラグラフ
> 
> > ブロック引用1
> 
> - リスト
> 
> > ブロック引用2
> 
> > ブロック引用3

ブロック引用自身を再帰的に何重でも含むことができる。

```markdown
> ブロック引用1
> 
> - リスト
> 
> > ブロック引用1-1

> ブロック引用2
> 
> > ブロック引用2-1
> > 
> > > ブロック引用2-1-1
```

> > ブロック引用1
> > 
> > - リスト
> > 
> > > ブロック引用1-1
> 
> > ブロック引用2
> > 
> > > ブロック引用2-1
> > > 
> > > > ブロック引用2-1-1

## 詳しい文法

ここから先は仕様書に書かれている詳細な文法仕様の説明。ただしMarkdownの文書作成を習得するのが目的の読者には無用な知識であり読む必要はない。さらに大部分が副作用を生じやすい仕様であり、これらに依存するとよく誤認識の原因になる。説明はするが**以下全て非推奨**。

さらに以下の説明はGitHub Markdown仕様(以下「[GFM仕様]」)の場合のものだが、他のMarkdown実装では仕様が異なるものが多いことにも注意すること。どのMarkdown実装でも同じように認識する書き方は最初の「[基本的な書き方](#基本的な書き方)」で説明した通りであり、特定の処理系に依存しやすい書き方は推奨できない。

### 先頭マーカーとインデント

[GFM仕様]ではブロック引用行を表す先頭マーカーは`>`で、その直後にスペースがある場合は1文字だけ除去して処理する(`>`の後のスペースは必須ではない)。次の文例では`>`の後にスペース1個を除去してから処理するため4個まではパラグラフ、5個以上は[インデントによるコードブロック]になる。

```markdown
>ブロック引用

> ブロック引用

>  ブロック引用

>   ブロック引用

>    ブロック引用

>     ブロック引用したコードブロック
```

> >ブロック引用
> 
> > ブロック引用
> 
> >  ブロック引用
> 
> >   ブロック引用
> 
> >    ブロック引用
> 
> >     ブロック引用したコードブロック

また全頭に3個までインデント用スペースが可能で、これらは除去してから処理する。4個以上は[インデントによるコードブロック]と認識する。

```markdown
> ブロック引用

 > ブロック引用

  > ブロック引用

   > ブロック引用

    > コードブロック
```

> > ブロック引用
> 
>  > ブロック引用
> 
>   > ブロック引用
> 
>    > ブロック引用
> 
>     > コードブロック

ただし`>`の後のスペースなし、行頭インデントとも非推奨。[Babelmark](https://babelmark.github.io/?text=%3EABCDEF)で確認すると`>`の後のスペースなしでは認識しないMarkdown実装がやはりある。また行頭インデントは[リスト]の後に配置するとよく誤認識を起こす。

### 先頭マーカーの省略

[GFM仕様]ではブロック引用の2行目以降は継続行と認識できる場合は先頭マーカーを省略してよい。

```markdown
> ブロック引用
ブロック引用の続き
ブロック引用の続き

次のパラグラフ
```

> > ブロック引用
> ブロック引用の続き
> ブロック引用の続き
> 
> 次のパラグラフ

ただし次の行が別のブロックマーカーである場合は継続とは認識しない。次の例では2行目先頭の`- `は[リスト]を表すマーカーであるため別ブロックと認識される。

```markdown
> - ブロック引用中のリスト項目
- 別のリスト項目(続きではない)
```

> > - ブロック引用中のリスト項目
> - 別のリスト項目(続きではない)

> 先頭マーカーの省略も非推奨。分かりにくくなるだけで何もよいことはない。また処理実装による仕様の違いが多数あり、このような書き方はドキュメントの可搬性を損ねる。

### その他

この他にも[GFM仕様]書には数々の特殊仕様が書かれているがすべて略。知っていてもMarkdown実装者以外には何の役にも立たないし、もし使うと別のMarkdown環境では使えないドキュメントになりやすい。

------------------------------------------------------------------------

[コードブロック]
← [目次] →
[リスト]

[GFM仕様]: github-flavored-markdown.md
[インデントによるコードブロック]: code-blocks.md#インデントによるコードブロック
[コードブロック]: code-blocks.md
[バックスラッシュエスケープ]: characters.md#バックスラッシュエスケープ
[ブロック]: blocks.md
[リスト]: lists.md
[空行]: characters.md#空行
[目次]: index.md
